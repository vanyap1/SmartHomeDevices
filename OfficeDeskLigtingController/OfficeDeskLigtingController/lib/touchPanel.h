
/*
 * touchPanel.h
 *
 * Created: 26/09/2025 12:30:23
 *  Author: Ivan Prints
 */

#ifndef ADC_TOUCH_PANEL_H_
#define ADC_TOUCH_PANEL_H_

#include <stdint.h>
#include <stdbool.h>
#include <avr/interrupt.h>
#include <util/delay.h>
#include "../config.h"

//TOUCH PANEL Leds
#define LED_G_POWER		10
#define LED_R_POWER		20
#define LED_B_POWER		21

#define LED_G_SPOT		5
#define LED_R_SPOT		19
#define LED_B_SPOT		18


#define LED_AMBILIGHT	6
#define LED_FAN			7
#define LED_POW_SAVE	8

#define LED_1			0
#define LED_2			1
#define LED_3			2
#define LED_4			3

//TOUCH PANEL Buttons

#define BTN_1			512
#define BTN_2			256
#define BTN_3			128
#define BTN_4			64

#define BTN_POWER		16
#define BTN_POWER_SAVE	8
#define BTN_FAN			4
#define BTN_AMBILIGHT	2
#define BTN_SPOTLIGHT	1

/**
 * @brief ????????????? ????????? ?????? (???????????? ??????/ADC/INT).
 * @return 0 ???? ???????, ???? – ??? ???????
 */
uint8_t touchPanelInit(uint8_t addr);

/**
 * @brief ???????????? ????? ???????????.
 * @param ledAddr – ??????/????? ???????????
 * @return 0 ???? ???????
 */
uint8_t touchPanelSetLedState(uint8_t ledAddr, bool ledState);

/**
 * @brief ????????? ????? ?????????? ???????????.
 * @return 1 ???? ???????, 0 ???? ?????????
 */
uint8_t touchPanelIntState(void);

/**
 * @brief ????????? ???? ?????????? ?????? ? ??????.
 * @return ??? ?????? (0xFF ???? ??????)
 */
uint16_t touchPanelGetKeyCode(void);

#endif /* ADC_TOUCH_PANEL_H_ */
